// THIS FILE IS AUTO-GENERATED.
// THESE AREN’T THE FILES YOU’RE LOOKING FOR.
// MOVE ALONG.

import React from "react"
import ReactDOM from "react-dom"
import { Route, Router } from "../Router"

// FIXME: We need to check whether the user has a component here. As a temporary
// fix, we can os.Stat and check whether a file exists. We don’t need to check
// that the file does what it’s supposed to do for now.
{{if false -}}
// App
import App from "../{{.Config.PagesDir}}/internal/app"
{{- else -}}
// (No <App> component)
{{- end}}

// Pages
{{range $x, $each := .Router -}}
	{{if gt $x 0}}{{"\n"}}{{end}}import {{ $each.Component }} from "{{ $each.Page }}"
{{- end}}

// FIXME: We need to check whether the user has a component here. As a temporary
// fix, we can os.Stat and check whether a file exists. We don’t need to check
// that the file does what it’s supposed to do for now.
{{if true -}}
// Page props
// TODO: Add support for 'appProps'
import pageProps from "./pageProps"
{{- else -}}
// (No pageProps.json)
{{- end}}

export default function RoutedApp() {
	return (
		<Router>
		{{range .Router}}
			<Route page="/{{.Page}}">
				<{{.Component }} {...pageProps["{{.Page}}"]} />
			</Route>
		{{end}}
		</Router>
	)
}

{{if not .Config.ReactStrictMode -}}
ReactDOM.hydrate(
	<RoutedApp />,
	document.getElementById("root"),
)
{{- else -}}
ReactDOM.hydrate(
	<React.StrictMode>
		<RoutedApp />
	</React.StrictMode>,
	document.getElementById("root"),
)
{{- end}}
